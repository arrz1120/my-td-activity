(function(d,a,b){var c;c=function(f){var m=d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.osRequestAnimationFrame||d.msRequestAnimationFrame||d.requestAnimFrame||function(p){return d.setTimeout(p,1000/60)};var i=d.webkitCancelAnimationFrame||d.mozCancelAnimationFrame||d.osCancelAnimationFrame||d.msCancelAnimationFrame||d.cancelAnimationFrame||clearTimeout;var h;var j=this;j.rAfId=null;var g={linear:function(p){return p},easeInQuad:function(p){return p*p},easeOutQuad:function(p){return -1*p*(p-2)},easeInOutQuad:function(p){if((p/=1/2)<1){return 1/2*p*p}return -1/2*((--p)*(p-2)-1)},easeInCubic:function(p){return p*p*p},easeOutCubic:function(p){return 1*((p=p/1-1)*p*p+1)},easeInOutCubic:function(p){if((p/=1/2)<1){return 1/2*p*p*p}return 1/2*((p-=2)*p*p+2)},easeInQuart:function(p){return p*p*p*p},easeOutQuart:function(p){return -1*((p=p/1-1)*p*p*p-1)},easeInOutQuart:function(p){if((p/=1/2)<1){return 1/2*p*p*p*p}return -1/2*((p-=2)*p*p*p-2)},easeInQuint:function(p){return 1*(p/=1)*p*p*p*p},easeOutQuint:function(p){return 1*((p=p/1-1)*p*p*p*p+1)},easeInOutQuint:function(p){if((p/=1/2)<1){return 1/2*p*p*p*p*p}return 1/2*((p-=2)*p*p*p*p+2)},easeInSine:function(p){return -1*b.cos(p/1*(b.PI/2))+1},easeOutSine:function(p){return 1*b.sin(p/1*(b.PI/2))},easeInOutSine:function(p){return -1/2*(b.cos(b.PI*p/1)-1)},easeInExpo:function(p){return(p==0)?1:1*b.pow(2,10*(p/1-1))},easeOutExpo:function(p){return(p==1)?1:1*(-b.pow(2,-10*p/1)+1)},easeInOutExpo:function(p){if(p==0){return 0}if(p==1){return 1}if((p/=1/2)<1){return 1/2*b.pow(2,10*(p-1))}return 1/2*(-b.pow(2,-10*--p)+2)},easeInCirc:function(p){if(p>=1){return p}return -1*(b.sqrt(1-(p/=1)*p)-1)},easeOutCirc:function(p){return 1*b.sqrt(1-(p=p/1-1)*p)},easeInOutCirc:function(p){if((p/=1/2)<1){return -1/2*(b.sqrt(1-p*p)-1)}return 1/2*(b.sqrt(1-(p-=2)*p)+1)},easeInElastic:function(r){var u=1.70158;var v=0;var q=1;if(r==0){return 0}if((r/=1)==1){return 1}if(!v){v=1*0.3}if(q<b.abs(1)){q=1;var u=v/4}else{var u=v/(2*b.PI)*b.asin(1/q)}return -(q*b.pow(2,10*(r-=1))*b.sin((r*1-u)*(2*b.PI)/v))},easeOutElastic:function(r){var u=1.70158;var v=0;var q=1;if(r==0){return 0}if((r/=1)==1){return 1}if(!v){v=1*0.3}if(q<b.abs(1)){q=1;var u=v/4}else{var u=v/(2*b.PI)*b.asin(1/q)}return q*b.pow(2,-10*r)*b.sin((r*1-u)*(2*b.PI)/v)+1},easeInOutElastic:function(r){var u=1.70158;var v=0;var q=1;if(r==0){return 0}if((r/=1/2)==2){return 1}if(!v){v=1*(0.3*1.5)}if(q<b.abs(1)){q=1;var u=v/4}else{var u=v/(2*b.PI)*b.asin(1/q)}if(r<1){return -0.5*(q*b.pow(2,10*(r-=1))*b.sin((r*1-u)*(2*b.PI)/v))}return q*b.pow(2,-10*(r-=1))*b.sin((r*1-u)*(2*b.PI)/v)*0.5+1},easeInBack:function(p){var q=1.70158;return 1*(p/=1)*p*((q+1)*p-q)},easeOutBack:function(p){var q=1.70158;return 1*((p=p/1-1)*p*((q+1)*p+q)+1)},easeInOutBack:function(p){var q=1.70158;if((p/=1/2)<1){return 1/2*(p*p*(((q*=(1.525))+1)*p-q))}return 1/2*((p-=2)*p*(((q*=(1.525))+1)*p+q)+2)},easeInBounce:function(p){return 1-g.easeOutBounce(1-p)},easeOutBounce:function(p){if((p/=1)<(1/2.75)){return 1*(7.5625*p*p)}else{if(p<(2/2.75)){return 1*(7.5625*(p-=(1.5/2.75))*p+0.75)}else{if(p<(2.5/2.75)){return 1*(7.5625*(p-=(2.25/2.75))*p+0.9375)}else{return 1*(7.5625*(p-=(2.625/2.75))*p+0.984375)}}}},easeInOutBounce:function(p){if(p<1/2){return g.easeInBounce(p*2)*0.5}return g.easeOutBounce(p*2-1)*0.5+1*0.5}};var e=f.canvas.width;var o=f.canvas.height;if(d.devicePixelRatio){f.canvas.style.width=e+"px";f.canvas.style.height=o+"px";f.canvas.width=f.canvas.width*d.devicePixelRatio;f.canvas.height=f.canvas.height*d.devicePixelRatio;f.scale(d.devicePixelRatio,d.devicePixelRatio)}function l(s,q){var p={};for(var r in s){p[r]=s[r]}for(var r in q){p[r]=q[r]}return p}function h(p){p.clearRect(0,0,e,o)}function n(w){var s=w.config;var q=w.drawScale;var p=w.drawData;var y=w.ctx;var r=(s.animation)?1/s.animationSteps:0,x=g[s.animationEasing],t=(s.animation)?0:1;if(typeof q!=="function"){q=function(){}}j.rAfId=m(u);function v(){var z=(s.animation)?x(t):1;h(y);p(z);q(z)}function u(){t+=r;v();if(t<=1){j.rAfId=m(u)}else{if(s.animateEnd&&typeof s.animateEnd==="function"){s.animateEnd()}}}}var k=function(u,r,p){var w;var t=null;w=q();function q(){var z=b.min(e/2,o/2)-5;var x=r.lineWidth;var y=u.datasets.length;var A=(z-x*y)/y;return b.floor(A)}function v(x){var D=-b.PI/2,B=1,G=1;if(r.animation){if(r.animateScale){B=x}if(r.animateRotate){G=x}}for(var A=0;A<u.datasets.length;A++){var z=r.dataDnmtor||(3/2*b.PI);var F=G*u.datasets[A].percent*z;var E=(A+1)*w+(2*(A+1)-1)*(r.lineWidth/2);var C=r.lableXpos+r.lineWidth||5+r.lineWidth;var y=(r.scaleFontSize-r.lineWidth)/2;p.lineCap="round";p.lineWidth=r.lineWidth;p.beginPath();if(r.dataBorder){p.lineWidth=r.lineWidth+2}p.strokeStyle=r.scaleLineBgColor;p.arc(e/2,o/2,B*E,-b.PI/2,r.scaleLingBgAglend,true);p.stroke();p.closePath();if(r.dataBorder){p.beginPath();p.lineWidth=r.lineWidth+2;p.strokeStyle=r.dataBorderColor;p.arc(e/2,o/2,B*E,D,D-F,true);p.stroke();p.closePath()}p.beginPath();p.lineWidth=r.lineWidth;p.strokeStyle=u.datasets[A].lineColor;
p.arc(e/2,o/2,B*E,D,D-F,true);p.stroke();p.closePath();p.beginPath();p.fillStyle=u.datasets[A].lineColor;p.arc(e/2+C,o/2-B*E,r.lineWidth/2+1,0,2*b.PI,true);p.fill();if(r.dataBorder){p.lineWidth=1;p.strokeStyle=r.dataBorderColor;p.stroke()}p.closePath();p.fontColor=r.scaleFontColor;p.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily;p.fillStyle=r.scaleFontColor;p.fillText(u.label[A],(e/2+C+r.lineWidth),(o/2-B*E+(r.scaleFontSize-4)/2))}}function s(x){var D=-b.PI/2,B=1,G=1;if(r.animation){if(r.animateScale){B=x}if(r.animateRotate){G=x}}for(var A=0;A<u.datasets.length;A++){var z=r.dataDnmtor||(3/2*b.PI);var F=G*u.datasets[A].percent*z;var E=(A+1)*w+(2*(A+1)-1)*(r.lineWidth/2);var C=r.lableXpos+r.lineWidth||5+r.lineWidth;var y=(r.scaleFontSize-r.lineWidth)/2;p.lineCap="round";p.lineWidth=r.lineWidth;p.beginPath();if(r.dataBorder){p.lineWidth=r.lineWidth+2}p.strokeStyle=r.scaleLineBgColor;p.arc(e/2,o/2,B*E,-b.PI/2,r.scaleLingBgAglend,true);p.stroke();p.closePath();p.beginPath();p.fillStyle=u.datasets[A].lineColor;p.arc(e/2+C,o/2-B*E,r.lineWidth/2+1,0,2*b.PI,true);p.fill();if(r.dataBorder){p.lineWidth=1;p.strokeStyle=r.dataBorderColor;p.stroke()}p.closePath();p.fontColor=r.scaleFontColor;p.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily;p.fillStyle=r.scaleFontColor;p.fillText(u.label[A],(e/2+C+r.lineWidth),(o/2-B*E+(r.scaleFontSize-4)/2))}}this.draw=function(){n({config:r,drawScale:null,drawData:v,ctx:p})};this.clear=function(){i(j.rAfId);j.rAfId=null;h(p);s(1)}};this.Ring=function(r,q){j.Ring.defaults={scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleLineWidth:4,scaleLineColor:"#666",scaleLineBgColor:"#666",scaleLingBgAglend:-4*b.PI/2,animation:true,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,animateScale:false,animateRotate:true,animateEnd:null};var p=q?l(j.Ring.defaults,q):j.Ring.defaults;return new k(r,p,f)}};if(typeof module!="undefined"&&module.exports){module.exports=c}else{if(typeof define=="function"&&define.amd){define(function(){return c})}else{d.TDChart=c}}})(window,document,Math);