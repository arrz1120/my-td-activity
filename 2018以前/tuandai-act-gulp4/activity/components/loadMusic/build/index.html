<!DOCTYPE html>
<html lang="zh">
  <head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta content="email=no" name="format-detection" />
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link href="css/index.css" rel="stylesheet">
    <script>window.mobileUtils=function(a,b){var c=navigator.userAgent,d=/android|adr/gi.test(c),e=/iphone|ipod|ipad/gi.test(c)&&!d,f=d||e;return{isAndroid:d,isIos:e,isMobile:f,isWeixin:/MicroMessenger/gi.test(c),isQQ:/QQ\/\d/gi.test(c),dpr:e?Math.min(a.devicePixelRatio,3):1,tapEvent:f?"tap":"click",rem:null,fixScreen:function(){function A(a){return"initial-scale="+a+",maximum-scale="+a+",minimum-scale="+a}var o,j,k,l,m,p,q,r,s,t,u,v,w,x,y,z,c=this,d=b.querySelector('meta[name="viewport"]'),g=d?d.content:"",h=g.match(/initial\-scale=([\d\.]+)/),i=g.match(/width=([^,\s]+)/);d?f&&!h&&i&&"device-width"!=i[1]&&(q=parseInt(i[1]),r=a.innerWidth||q,s=a.outerWidth||r,t=a.screen.width||r,u=a.screen.availWidth||r,v=a.innerHeight||q,w=a.outerHeight||v,x=a.screen.height||v,y=a.screen.availHeight||v,z=Math.min(r,s,t,u,v,w,x,y),m=z/q,1>m&&(d.content=g+","+A(m))):(j=b.documentElement,k=j.dataset.mw||750,l=e?Math.min(a.devicePixelRatio,3):1,m=1,b.getElementsByTagName("body")[0],j.removeAttribute("data-mw"),j.dataset.dpr=l,d=b.createElement("meta"),d.name="viewport",d.content=A(m),j.firstElementChild.appendChild(d),p=function(){var b,a=j.getBoundingClientRect().width;a/l>k&&(a=k*l),b=a/16,c.rem=b,j.style.fontSize=b+"px"},a.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(p,300)},!1),a.addEventListener("pageshow",function(a){a.persisted&&(clearTimeout(o),o=setTimeout(p,300))},!1),p())}}}(window,document),mobileUtils.fixScreen();</script>
    <style>
      p{
        text-align: center;
        margin: 2rem 0;
      }
    </style>
  </head>
  <body>
    <p class="play">播放</p>
    <p class="pause">暂停</p>
    <script src="js/jsbridge3.1.4.js"></script>
    <script src="js/loadAudio.bundle.js"></script>
    <script>
      var loadAudio=new LoadAudio('http://10.100.65.137:3000/music/bg.mp3',{
        autoplay:false,
        onLoad:function(){
          // 仅适用于微信端
          alert('loadStart')
        },
        onLoaded:function(){
          // 仅适用于微信端
          alert('loadEnd')
        }
      });
      document.querySelector('.play').addEventListener('click',function(){
        if(Jsbridge.isApp()){
          loadAudio.appPlay('http://10.100.65.137:3000/music/bg.mp3')
        }else{
          loadAudio.play();
        }
      })
      document.querySelector('.pause').addEventListener('click',function(){
        if(Jsbridge.isApp()){
          loadAudio.appPause('http://10.100.65.137:3000/music/bg.mp3')
        }else{
          loadAudio.pause();
        }
      })
    </script>
  </body>
</html>