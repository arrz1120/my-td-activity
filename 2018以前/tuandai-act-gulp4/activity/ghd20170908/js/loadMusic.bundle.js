!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./js/",e(e.s=0)}([function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=navigator.userAgent.toLowerCase(),u=function(){return"micromessenger"==r.match(/MicroMessenger/i)}(),a=function(){return/android|adr/gi.test(r)}(),s=(function(){/iphone|ipod|ipad/gi.test(r)}(),function(){if(!Jsbridge)throw new Error("没有引入 Jsbridge");return Jsbridge.isApp()}),d=function(){function t(e,i){n(this,t),this.src=e,this.opts=t.mergeOpts(i),this.init()}return o(t,[{key:"init",value:function(){var t=this,e=this.opts,i=e.autoplay,n=e.loop,o=e.onLoad,r=e.onLoaded,a=this;if(this.domAudio=null,s()||(this.domAudio=document.createElement("audio"),this.domAudio.src=this.src,this.domAudio.autoplay=i,this.domAudio.loop=n,document.body.appendChild(this.domAudio),document.addEventListener("WeixinJSBridgeReady",this.play.bind(this),!1),this.domAudio.addEventListener("loadstart",function(){i||t.pause(),o&&o.call(t)}),this.domAudio.addEventListener("loadeddata",function(){r&&r.call(t)})),i){if(s()){try{Jsbridge.appLifeHook(null,function(){Jsbridge.appPlayMusic(a.src)},function(){Jsbridge.appStopMusic()})}catch(t){throw new Error(t)}return}if(u)return void document.addEventListener("WeixinJSBridgeReady",this.play.bind(this),!1)}}},{key:"play",value:function(){if(s())try{Jsbridge.appPlayMusic(this.src),Jsbridge.appLifeHook(null,null,function(){Jsbridge.appStopMusic()})}catch(t){throw new Error(t)}else this.domAudio.play()}},{key:"pause",value:function(){if(s())try{Jsbridge.appStopMusic&&Jsbridge.appStopMusic()}catch(t){throw new Error(t)}else this.domAudio.pause()}}],[{key:"mergeOpts",value:function(t){var e={autoplay:!0,loop:!0};for(var i in t)e[i]=t[i];return e}}]),t}();window.LoadMusic=d}]);