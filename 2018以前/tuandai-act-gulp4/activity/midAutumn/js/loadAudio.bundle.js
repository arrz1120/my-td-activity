!function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/js/",e(e.s=0)}([function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=navigator.userAgent.toLowerCase(),u=(function(){r.match(/MicroMessenger/i)}(),function(){return/android|adr/gi.test(r)}()),a=function(){return/iphone|ipod|ipad/gi.test(r)&&!u}(),s=function(){if(!Jsbridge)throw new Error("没有引入 Jsbridge");return Jsbridge.isApp()},d=function(){function t(e,i){o(this,t),this.src=e,this.opts=t.mergeOpts(i),this.hasPlayed=!1,this.init()}return n(t,[{key:"init",value:function(){var t=this,e=this.opts,i=e.autoplay,o=e.loop,n=e.onLoad,r=e.onLoaded,d=this;if(this.domAudio=null,s()){if(!i)return;try{Jsbridge.appLifeHook(null,function(){Jsbridge.appPlayMusic(d.src),d.hasPlayed=!0},function(){Jsbridge.appStopMusic()})}catch(t){throw new Error(t)}}else this.domAudio=document.createElement("audio"),this.domAudio.src=this.src,this.domAudio.loop=o,this.domAudio.autoplay=i,a&&document.addEventListener("WeixinJSBridgeReady",function(){t.domAudio.play(),i||t.domAudio.pause()},!1),u&&(i||this.domAudio.pause()),this.domAudio.addEventListener("loadstart",function(){n&&n.call(t)}),this.domAudio.addEventListener("loadeddata",function(){r&&r.call(t)})}},{key:"play",value:function(){if(s())try{Jsbridge.appPlayMusic(this.src),this.hasPlayed=!0,Jsbridge.appLifeHook(null,null,function(){Jsbridge.appStopMusic()})}catch(t){throw new Error(t)}else this.domAudio.play()}},{key:"pause",value:function(){if(s())try{this.hasPlayed&&Jsbridge.appStopMusic()}catch(t){throw new Error(t)}else this.domAudio.pause()}}],[{key:"mergeOpts",value:function(t){var e={autoplay:!0,loop:!0};for(var i in t)e[i]=t[i];return e}}]),t}();window.LoadAudio=d}]);