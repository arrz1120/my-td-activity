!function(a){function b(){var a=!1;return navigator.userAgent.match(/(iPad|iPhone)/)?a=!0:navigator.userAgent.match(/(Android)/)&&(a=!1),a}function c(a,b){a=a.replace(/\s+/g,"");var c=new RegExp(b+"=([^;]+);"),d=a.match(c);return d?d[1]:""}function d(a){window.WebViewJavascriptBridge?a(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){a(WebViewJavascriptBridge)},!1)}function e(a,b,c){window[a](b,function(a){c&&c(a)})}function f(b,c,d){a.WebViewJavascriptBridge.callHandler(b,c,function(a){d&&"function"==typeof d&&d(a)})}var g=function(){};g.prototype={constructor:g,getVersion:function(){navigator.userAgent},toAppLogin:function(){try{b()?("function"==typeof ToAppIosLogin&&ToAppIosLogin(),"function"==typeof ToAppLogin&&ToAppLogin()):f("ToAppLogin",null)}catch(a){console.info("不支持jsbridge",a)}},toAppRegister:function(){try{b()?("function"==typeof ToAppIosRegister&&ToAppIosRegister(),"function"==typeof ToAppRegister&&ToAppRegister()):f("ToAppRegister",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMainPage:function(){try{b()?("function"==typeof ToAppIosMainPage&&ToAppIosMainPage(),"function"==typeof ToAppHomePage&&ToAppHomePage()):(f("ColseWeb",null),f("ToAppHomePage",null))}catch(a){console.info("不支持jsbridge",a)}},toAppInvestList:function(){console.info(typeof ToAppIosInvest);try{b()?("function"==typeof ToAppIosInvest&&ToAppIosInvest(),"function"==typeof ToAppScatteredList&&ToAppScatteredList()):(f("ToAppInvestList",null),f("ToAppScatteredList",null))}catch(a){console.info("不支持jsbridge",a)}},toAppInvestDetails:function(a,c,d,e,g){try{if(b())"function"==typeof ToAppIosProjectDetail&&ToAppIosProjectDetail(a,c,d,e,g),"function"==typeof ToAppScatteredDetails&&ToAppScatteredDetails(a,c,d,e,g);else{var h={Id:a,TypeId:c,SubTypeId:d,ProfitTypeId:e,XmbSubType:g};f("InvestProjectDetails",h),f("ToAppScatteredDetails",h)}}catch(i){console.info("不支持jsbridge",i)}},toAppLoan:function(){try{b()?("function"==typeof ToAppIosBorrow&&ToAppIosBorrow(),"function"==typeof ToAppApplyForAssets&&ToAppApplyForAssets()):(f("ToAppLoan",null),f("ToAppApplyForAssets",null))}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvest:function(){try{b()?("function"==typeof ToAppIosMyInvest&&ToAppIosMyInvest(),"function"==typeof ToAppMyInvestment&&ToAppMyInvestment()):(f("InvestListActivity",null),f("ToAppMyInvestment",null))}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvestDetail:function(a,c,d,e,g,h,i,j){try{if(b())"function"==typeof ToAppIosInvestDetail&&ToAppIosInvestDetail(a,c,d,e,g,h),"function"==typeof ToAppMyInvestmentDetails&&ToAppMyInvestmentDetails(a,c,d,e,g,h,i,j);else{var k={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:e,IsWePlanX:g,TDWeXPlanType:i,Title:j};f("MyInvestDetail",k),f("ToAppMyInvestmentDetails",k)}}catch(l){console.info("不支持jsbridge",l)}},toAppTBX:function(){try{b()?("function"==typeof ToAppIosTreasurChest&&ToAppIosTreasurChest(),"function"==typeof ToAppTreasureChest&&ToAppTreasureChest()):(f("ToAppTBX",null),f("ToAppTreasureChest",null))}catch(a){console.info("不支持jsbridge",a)}},toAppCashRedPacket:function(){try{b()?("function"==typeof ToAppIosCashBonus&&ToAppIosCashBonus(),"function"==typeof ToAppCashBonus&&ToAppCashBonus()):(f("ToAppCashRedPacket",null),f("ToAppCashBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppOrdinaryRedPacket:function(){try{b()?("function"==typeof ToAppIosInvestBonus&&ToAppIosInvestBonus(),"function"==typeof ToAppInvestBonus&&ToAppInvestBonus()):(f("ToAppOrdinaryRedPacket",null),f("ToAppInvestBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppKasiRedPacket:function(){try{b()?("function"==typeof ToAppIosAddRateCoupon&&ToAppIosAddRateCoupon(),"function"==typeof ToAppRateIncreaseBonus&&ToAppRateIncreaseBonus()):(f("ToAppKasiRedPacket",null),f("ToAppRateIncreaseBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppWithdrawalRoll:function(){try{b()?("function"==typeof ToAppIosWithdrawalCoupon&&ToAppIosWithdrawalCoupon(),"function"==typeof ToAppReflectBonus&&ToAppReflectBonus()):(f("ToAppWithdrawalRoll",null),f("ToAppReflectBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppRebateRedPacket:function(){try{b()?ToAppIosDeductionCoupon():f("ToAppRebateRedPacket",null)}catch(a){console.info("不支持jsbridge",a)}},toAppSingInRoll:function(){try{b()?("function"==typeof ToAppIosAdCard&&ToAppIosAdCard(),"function"==typeof ToAppSignInCard&&ToAppSignInCard()):(f("ToAppSingInRoll",null),f("ToAppSignInCard",null))}catch(a){console.info("不支持jsbridge",a)}},toAppPresent:function(){try{b()?("function"==typeof ToAppIosBoutiqueGift&&ToAppIosBoutiqueGift(),"function"==typeof ToAppExquisiteGift&&ToAppExquisiteGift()):(f("ToAppPresent",null),f("ToAppExquisiteGift",null))}catch(a){console.info("不支持jsbridge",a)}},toAppRecharge:function(){try{b()?("function"==typeof ToAppIosRecharge&&ToAppIosRecharge(),"function"==typeof ToAppTopUp&&ToAppTopUp()):(f("ToAppRecharge",null),f("ToAppTopUp",null))}catch(a){console.info("不支持jsbridge",a)}},toAppSecurityCenter:function(){try{b()?("function"==typeof ToAppIosSaftCenter&&ToAppIosSaftCenter(),"function"==typeof ToAppSecurityCenter&&ToAppSecurityCenter()):f("ToAppSecurityCenter",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMobileVerify:function(){try{b()?("function"==typeof ToAppIosPhoneValidtion&&ToAppIosPhoneValidtion(),"function"==typeof ToAppPhoneVerification&&ToAppPhoneVerification()):(f("ToAppMobileVerify",null),f("ToAppPhoneVerification",null))}catch(a){console.info("不支持jsbridge",a)}},toAppIdentityVerify:function(){try{b()?("function"==typeof ToAppIosAuthenticationCode&&ToAppIosAuthenticationCode(),"function"==typeof ToAppIDVerification&&ToAppIDVerification()):(f("ToAppIdentityVerify",null),f("ToAppIDVerification",null))}catch(a){console.info("不支持jsbridge",a)}},toAppPersonalCenter:function(){try{b()?("function"==typeof ToAppIosMyTreasure&&ToAppIosMyTreasure(),"function"==typeof ToAppMy&&ToAppMy()):(f("ToAppPersonalCenter",null),f("ToAppMy",null))}catch(a){console.info("不支持jsbridge",a)}},toAppInviteFriend:function(){try{b()?("function"==typeof ToAppIosInviteFriend&&ToAppIosInviteFriend(),"function"==typeof ToAppInvitedShare&&ToAppInvitedShare()):(f("ToAppInviteFriend",null),f("ToAppInvitedShare",null))}catch(a){console.info("不支持jsbridge",a)}},toActivityAppInviteFriend:function(){try{b()?("function"==typeof ToAppIosActivityShare&&ToAppIosActivityShare(),"function"==typeof ToAppActivitiesShare&&ToAppActivitiesShare()):(f("ToActivityAppInviteFriend",null),f("ToAppActivitiesShare",null))}catch(a){console.info("不支持jsbridge",a)}},ToAppActivity:function(a){if(2==a||3==a)return void alert("参数错误！");try{if(b())"function"==typeof ToAppActivity&&ToAppActivity(a);else{var c={FunctionType:a};f("ToAppActivity",c)}}catch(d){console.info("不支持jsbridge",d)}},toAppActivity:function(a){this.ToAppActivity(a)},toAppWePlan:function(){try{b()?("function"==typeof ToAppIosWePlan&&ToAppIosWePlan(),"function"==typeof ToAppWePlanList&&ToAppWePlanList()):(f("ToAppWEInvestList",null),f("ToAppWePlanList",null))}catch(a){console.info("不支持jsbridge",a)}},toAppWePlanDetail:function(a,c,d,e,g){try{if(b())"function"==typeof ToAppIosWePlanProjectDetail&&ToAppIosWePlanProjectDetail(a,c,d),"function"==typeof ToAppWePlanDetails&&ToAppWePlanDetails(a,c,d,e,g);else{var h={ProductId:a,TypeId:c,SubTypeId:d,TDWeXPlanType:e,Title:g};f("WXInvestDetail",h),f("ToAppWePlanDetails",h)}}catch(i){console.info("不支持jsbridge",i)}},toAppFind:function(){try{b()?ToAppFind():f("ToAppFind",null)}catch(a){console.info("不支持jsbridge",a)}},toAppBeginnersArea:function(){try{b()?ToAppBeginnersArea():f("ToAppBeginnersArea",null)}catch(a){console.info("不支持jsbridge",a)}},toAppPublicNoticeList:function(){try{b()?ToAppPublicNoticeList():f("ToAppPublicNoticeList",null)}catch(a){console.info("不支持jsbridge",a)}},toAppPublicNoticeDetails:function(a){try{if(b())ToAppPublicNoticeDetails(a);else{var c={id:a};f("ToAppPublicNoticeDetails",c)}}catch(d){console.info("不支持jsbridge",d)}},toAppSystemMessagesList:function(){try{b()?ToAppSystemMessagesList():f("ToAppSystemMessagesList",null)}catch(a){console.info("不支持jsbridge",a)}},toAppSystemMessagesDetails:function(a){try{if(b())ToAppSystemMessagesDetails(a);else{var c={id:a};f("ToAppSystemMessagesDetails",c)}}catch(d){console.info("不支持jsbridge",d)}},toAppIWantBorrow:function(){try{b()?ToAppIWantBorrow():f("ToAppIWantBorrow",null)}catch(a){console.info("不支持jsbridge",a)}},toAppFeedBack:function(){try{b()?ToAppFeedBack():f("ToAppFeedBack",null)}catch(a){console.info("不支持jsbridge",a)}},toAppTuandaiBBS:function(a,c){try{if(b())ToAppTuandaiBBS(a,c);else{var d={title:a,url:c};f("ToAppTuandaiBBS",d)}}catch(e){console.info("不支持jsbridge",e)}},toAppAutoBid:function(){try{b()?ToAppAutoBid():f("ToAppAutoBid",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyBorrowing:function(){try{b()?ToAppMyBorrowing():f("ToAppMyBorrowing",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyBorrowingDetails:function(a,c,d,e,g,h){try{if(b())ToAppMyBorrowingDetails(a,c,d,e,g,h);else{var i={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:e,IsWePlanX:g};f("ToAppMyBorrowingDetails",i)}}catch(j){console.info("不支持jsbridge",j)}},toAppDebtCollectionCalendar:function(){try{b()?ToAppDebtCollectionCalendar():f("ToAppDebtCollectionCalendar",null)}catch(a){console.info("不支持jsbridge",a)}},appPlayMusic:function(a){try{if(b())ToAppIosPlayMusic(a);else{var c={url:a};f("WebViewOnPlayMusic",c)}}catch(d){console.info("不支持jsbridge",d)}},appStopMusic:function(){try{b()?ToAppIosStopMusic():f("WebViewOnPauseMusic",null)}catch(a){console.info("不支持jsbridge",a)}},setTitleComponent:function(a){try{b()?setTitleComponent(a):f("setTitleComponent",a)}catch(c){console.info("不支持jsbridge",c)}},toAppBondsTransferList:function(){try{b()?ToAppBondsTransferList():f("ToAppBondsTransferList",null)}catch(a){console.info("不支持jsbridge",a)}},toAppFinancialPlanListFi:function(){try{b()?ToAppFinancialPlanList_fi():f("ToAppFinancialPlanList_fi",null)}catch(a){console.info("不支持jsbridge",a)}},toAppRegularProjectListFi:function(){try{b()?ToAppRegularProjectList_fi():f("ToAppRegularProjectList_fi",null)}catch(a){console.info("不支持jsbridge",a)}},toAppBondsTransferDetails:function(a,c){try{if(b())ToAppBondsTransferDetails(a,c);else{var d={Id:a,TypeId:c};f("ToAppBondsTransferDetails",d)}}catch(e){console.info("不支持jsbridge",e)}},toAppFinancialPlanDetailsFi:function(a,c,d){try{if(b())ToAppFinancialPlanDetails_fi(a,c,d);else{var e={Id:a,TypeId:c,SubTypeId:d};f("ToAppFinancialPlanDetails_fi",e)}}catch(g){console.info("不支持jsbridge",g)}},toAppRegularProjectDetailsFi:function(a,c,d,e,g){try{if(b())ToAppRegularProjectDetails_fi(a,c,d,e,g);else{var h={Id:a,TypeId:c,SubTypeId:d,ProfitTypeId:e,XmbSubType:g};f("ToAppRegularProjectDetails_fi",h)}}catch(i){console.info("不支持jsbridge",i)}},toAppSignIn:function(){try{b()?ToAppSignIn():f("ToAppSignIn",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvestWePlanList:function(){try{b()?ToAppMyInvestWePlanList():f("ToAppMyInvestWePlanList",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvestWePlanDetails:function(a,c,d,e,g,h,i,j){try{if(b())ToAppMyInvestWePlanDetails(a,c,d,e,g,h,i,j);else{var k={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:e,IsWePlanX:g,TDWeXPlanType:i,Title:j};f("ToAppMyInvestWePlanDetails",k)}}catch(l){console.info("不支持jsbridge",l)}},toAppMyInvestFinancialPlanListFi:function(){try{b()?ToAppMyInvestFinancialPlanList_fi():f("ToAppMyInvestFinancialPlanList_fi",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvestRegularProjectListFi:function(){try{b()?ToAppMyInvestRegularProjectList_fi():f("ToAppMyInvestRegularProjectList_fi",null)}catch(a){console.info("不支持jsbridge",a)}},toAppTopUpFi:function(){try{b()?ToAppTopUp_fi():f("ToAppTopUp_fi",null)}catch(a){console.info("不支持jsbridge",a)}},toAppDebtCollectionCalendarFi:function(){try{b()?ToAppDebtCollectionCalendar_fi():f("ToAppDebtCollectionCalendar_fi",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvestFinancialPlanDetailsFi:function(a,c,d,e,g,h,i,j){try{if(b())ToAppMyInvestFinancialPlanDetails_fi(a,c,d,e,g,h,i,j);else{var k={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:e,IsWePlanX:g,TDWeXPlanType:i,Title:j};f("ToAppMyInvestFinancialPlanDetails_fi",k)}}catch(l){console.info("不支持jsbridge",l)}},toAppMyInvestRegularProjectListDetailsFi:function(a,c,d,e,g,h,i,j){try{if(b())ToAppMyInvestRegularProjectListDetails_fi(a,c,d,e,g,h,i,j);else{var k={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:e,IsWePlanX:g,TDWeXPlanType:i,Title:j};f("ToAppMyInvestRegularProjectListDetails_fi",k)}}catch(l){console.info("不支持jsbridge",l)}},toAppCardVerification:function(){try{b()?ToAppCardVerification():f("ToAppCardVerification",null)}catch(a){console.info("不支持jsbridge",a)}},toAppSecuritiesTrading:function(){try{b()?"function"==typeof ToAppSecuritiesTrading&&ToAppSecuritiesTrading():f("ToAppSecuritiesTrading",null)}catch(a){console.info("不支持jsbridge",a)}},toAppBankOpenDepositoryAlert:function(){try{b()?"function"==typeof ToAppBankOpenDepositoryAlert&&ToAppBankOpenDepositoryAlert():f("ToAppBankOpenDepositoryAlert",null)}catch(a){console.info("不支持jsbridge",a)}},exec:function(a,c,d){try{b()?(console.log("ios-func",a),e(a,c,d)):(console.log("android-func"),f(a,c,d))}catch(g){console.info("不支持jsbridge",g)}},isNewVersion:function(){var a=navigator.userAgent,b=a.match(/\[([^\[\]]*)\]/);if(b&&b[1]){var c=b[1].split("_"),d=c[0]+c[1];return c&&c[c.length-1]>="4.3.4"&&("tuandaiappandroid"==d||"tuandaiappIOS"==d)?!0:!1}return!1},isCorrectVersion:function(a,b){b=b?b:1;var c=navigator.userAgent,d=c.match(/\[([^\[\]]*)\]/);if(d&&d[1]){var e=d[1].split("_"),f=e[0]+e[1];return 1==b?e&&e[e.length-1]>=a&&("tuandaiappandroid"==f||"tuandaiappIOS"==f)?!0:!1:!e||e[e.length-1]!=a||"tuandaiappandroid"!=f&&"tuandaiappIOS"!=f?!1:!0}return!1},isDisable:function(){var a=navigator.userAgent,b=a.match(/\[([^\[\]]*)\]/);if(b&&b[1]){var c=b[1].split("_"),d=c[0]+c[1];return!c||"4.3.5"!=c[c.length-1]||"tuandaiappandroid"!=d&&"tuandaiappIOS"!=d?!1:!0}return!1},actLogin:function(a,b,c,d){$.ajax({url:a,data:{appActivityToken:b},dataType:"json",type:"post",success:function(a){console.info("result---login----",a),c&&"function"==typeof c&&(arguments[0]=a,c.apply(this,arguments))},error:function(a){d&&"function"==typeof d&&(arguments[0]=a,d.apply(this,arguments))}})},rightButtonClick:function(a){b()?window.RightButtonClick=function(b){a&&"function"==typeof a&&(arguments[0]=b,a.apply(this,arguments))}:d(function(b){try{window.WebViewJavascriptBridge._messageHandler||b.init(function(a,b){b(data)})}catch(c){console.error("jsbridge-----error--",c)}b.registerHandler("RightButtonClick",function(b,c){var d="Javascript Says Right back aka!";c(d),a&&"function"==typeof a&&(arguments[0]=b,a.apply(this,arguments))})})},shareActivitySuccessed:function(a){b()?window.shareActivitySuccessed=function(b){a&&"function"==typeof a&&(arguments[0]=b,a.apply(this,arguments))}:d(function(b){try{window.WebViewJavascriptBridge._messageHandler||b.init(function(a,b){b(data)})}catch(c){console.error("jsbridge-----error--",c)}b.registerHandler("shareActivitySuccessed",function(b,c){var d="Javascript Says Right back aka!";c(d),a&&"function"==typeof a&&(arguments[0]=b,a.apply(this,arguments))})})},appLifeHook:function(e,f,g,h,i){b()?(window.ToAppIosPostLoginToken=function(a){if(f&&"function"==typeof f){if(JSON.parse(a)&&JSON.parse(a).ReturnCode)arguments[0]=a;else{var b={Token:c(a,"Token"),ReturnCode:c(a,"ReturnCode"),ReturnMessage:c(a,"ReturnMessage"),Data:{LoginToken:c(a,"LoginToken")}};arguments[0]=JSON.stringify(b)}f.apply(this,arguments)}},a.ToAppLifeCycle=function(a){1==a?g&&"function"==typeof g&&g.apply(this,arguments):2==a&&h&&"function"==typeof h&&h.apply(this,arguments)}):d(function(a){try{window.WebViewJavascriptBridge._messageHandler||a.init(function(a,b){console.log("JS got a message",a);var c={"Javascript Responds":"测试中文!"};console.log("JS responding with",c),e&&(arguments[0]=a,e.apply(this,arguments)),b(c)})}catch(b){console.error("jsbridge-----error--",b)}a.registerHandler("LoginToken",function(a,b){var c="Javascript Says Right back aka!";f&&"function"==typeof f&&(arguments[0]=a,f.apply(this,arguments)),b(c)}),a.registerHandler("WebonResume",function(a,b){var c="Javascript Says Right back aka!";g&&"function"==typeof g&&(arguments[0]=a,g.apply(this,arguments)),b(c)}),a.registerHandler("WebonPause",function(a,b){var c="Javascript Says Right back aka!";h&&"function"==typeof h&&(arguments[0]=a,h.apply(this,arguments)),b(c)}),a.registerHandler("WebonDestroy",function(a,b){var c="Javascript Says Right back aka!";i&&"function"==typeof i&&(arguments[0]=a,i.apply(this,arguments)),b(c)})})}};var h=new g;a.Jsbridge=h}(window);